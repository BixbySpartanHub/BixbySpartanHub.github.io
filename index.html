<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spartan Hub - Your Gateway to Academic Success & Personal Growth</title>
  <meta name="description" content="Spartan Hub helps students with tutoring, college guidance, mental health support, and spiritual merchandise. A student-led initiative by Bixby High School.">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.11.0/math.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

  <style>
    /* Rotating Text Animation */
    .rotating-words::after {
      content: '';
      animation: rotate 8s linear infinite;
    }

    @keyframes rotate {
      0% { content: 'tutoring'; }
      25% { content: 'college search'; }
      50% { content: 'mental health'; }
      75% { content: 'career guidance'; }
      100% { content: 'school spirit'; }
    }


    /* Popup Styles */
    .popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 10000;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .popup-container {
      width: 90%;
      height: 85%;
      background: white;
      border-radius: 12px;
      overflow: hidden;
      position: relative;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
    }

    .popup-header {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      background: #ff4d4d;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 10001;
    }

    .popup-close {
      background: none;
      border: none;
      font-size: 2rem;
      color: white;
      cursor: pointer;
      font-weight: bold;
      transition: transform 0.2s ease;
    }

    .popup-close:hover {
      transform: scale(1.1);
    }

    .popup-iframe {
      width: 100%;
      height: calc(100% - 70px);
      border: none;
      margin-top: 70px;
    }

    .popup-title {
      color: white;
      font-weight: bold;
      font-size: 1.1rem;
    }

    /* SF Pro Typography */
    @import url('https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@400;500;600;700;800;900&display=swap');

    html, body {
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      background: #000000;
      color: #ffffff;
      overflow-x: hidden;
      line-height: 1.4;
    }

    /* Easter Egg Animations */
    .logo-easter:hover { transform: scale(1.05); }
    .logo-easter.clicked {
      animation: appleEaster 2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    @keyframes appleEaster {
      0% { transform: scale(1) rotate(0deg); }
      15% { transform: scale(1.3) rotate(180deg); }
      25% { transform: scale(1.6) rotate(360deg); }
      35% { transform: scale(1.8) rotate(540deg); }
      45% { transform: scale(1.4) rotate(720deg); }
      55% { transform: scale(1.9) rotate(900deg); }
      65% { transform: scale(1.3) rotate(1080deg); }
      75% { transform: scale(1.7) rotate(1260deg); }
      85% { transform: scale(1.5) rotate(1440deg); }
      95% { transform: scale(1.1) rotate(1620deg); }
      100% { transform: scale(1) rotate(1800deg); }
    }

    .particle {
      position: absolute;
      width: 6px;
      height: 6px;
      background: radial-gradient(circle, rgba(255, 119, 198, 0.8), rgba(255, 87, 108, 0.4));
      border-radius: 50%;
      pointer-events: none;
      animation: particleBurst 1s ease-out forwards;
      z-index: 1000;
    }

    @keyframes particleBurst {
      0% { opacity: 1; transform: translate(0, 0) scale(1); }
      100% { opacity: 0; transform: translate(var(--dx), var(--dy)) scale(0); }
    }

    /* Banner Ad Space */
    .ad-banner-space {
      height: 90px; /* Reserve space for banner ads */
      width: 100%;
      margin: 20px 0;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: rgba(255, 255, 255, 0.6);
      font-size: 14px;
    }

    /* Universal Navigation Arrows */
    .nav-arrows {
      position: fixed;
      bottom: 20px;
      left: 20px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      z-index: 1000;
    }

    .nav-arrow {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: 2px solid #1e40af;
      background: #fff;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: #1e40af;
      box-shadow: 0 3px 12px rgba(30, 64, 175, 0.2);
      transition: all 0.3s;
      font-weight: bold;
    }

    .nav-arrow:hover {
      background: #1e40af;
      color: #fff;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(30, 64, 175, 0.4);
    }

    .nav-arrow:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* iPad/Tablet Optimizations */
    @media (min-width: 768px) and (max-width: 1024px) {
      .grid.grid-cols-1-md:grid-cols-2-lg:grid-cols-3 {
        grid-template-columns: repeat(2, 1fr);
      }

      .max-w-7xl {
        max-width: 95vw;
      }

      .text-5xl {
        font-size: 3.5rem;
      }

      .py-16 {
        padding-top: 4rem;
        padding-bottom: 4rem;
      }

      .ad-banner-space {
        height: 120px; /* More space for tablets */
        margin: 30px 0;
      }
    }
  </style>
</head>

<body class="bg-white">

  <!-- Services Section -->
  <section id="services" class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h3 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">Explore Our Services</h3>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">Discover a range of student-led services designed to support your academic journey, personal development, and community engagement.</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <!-- Academic Help -->
        <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 cursor-pointer group" onclick="handleCardClick('BAM index.html')">
          <div class="bg-green-500 text-white text-sm font-semibold px-3 py-1 rounded-full inline-block mb-4">Available Now</div>
          <div class="w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
            <i class="fas fa-book-open text-3xl text-white"></i>
          </div>
          <h4 class="text-2xl font-bold text-gray-900 mb-4">Academic Help</h4>
          <p class="text-gray-600 leading-relaxed">Get personalized tutoring and study support across all subjects from fellow students and NHS members.</p>
        </div>

        <!-- College Search -->
        <div class="bg-gradient-to-br from-green-50 to-emerald-50 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 cursor-pointer group" onclick="handleCardClick('college index.html')">
          <div class="bg-green-500 text-white text-sm font-semibold px-3 py-1 rounded-full inline-block mb-4">Available Now</div>
          <div class="w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
            <i class="fas fa-graduation-cap text-3xl text-white"></i>
          </div>
          <h4 class="text-2xl font-bold text-gray-900 mb-4">College Search Help</h4>
          <p class="text-gray-600 leading-relaxed">Find your perfect college match with comprehensive guidance, application support, and personalized advice.</p>
        </div>

        <!-- Mental Health Support -->
        <div class="bg-gradient-to-br from-purple-50 to-pink-50 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 cursor-pointer group" onclick="handleCardClick('teenhelp index.html')">
          <div class="bg-green-500 text-white text-sm font-semibold px-3 py-1 rounded-full inline-block mb-4">Available Now</div>
          <div class="w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
            <i class="fas fa-heart text-3xl text-white"></i>
          </div>
          <h4 class="text-2xl font-bold text-gray-900 mb-4">Mental Health Support</h4>
          <p class="text-gray-600 leading-relaxed">Access confidential resources and support for your mental wellbeing from trained peer counselors.</p>
        </div>

        <!-- Spartan Spirit Store -->
        <div class="bg-gradient-to-br from-orange-50 to-yellow-50 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 cursor-pointer group" onclick="handleCardClick('spartan-armory.html')">
          <div class="bg-green-500 text-white text-sm font-semibold px-3 py-1 rounded-full inline-block mb-4">Available Now</div>
          <div class="w-20 h-20 bg-gradient-to-br from-orange-500 to-yellow-600 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
            <i class="fas fa-shopping-bag text-3xl text-white"></i>
          </div>
          <h4 class="text-2xl font-bold text-gray-900 mb-4">Spartan Spirit Store</h4>
          <p class="text-gray-600 leading-relaxed">Shop official Spartan merchandise and gear with proceeds supporting school programs.</p>
        </div>

        <!-- Connect with the World -->
        <div id="connect-world-card" class="bg-gradient-to-br from-teal-50 to-cyan-50 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 cursor-pointer group">
          <div class="bg-green-500 text-white text-sm font-semibold px-3 py-1 rounded-full inline-block mb-4">Available Now</div>
          <div class="w-20 h-20 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
            <i class="fas fa-globe text-3xl text-white"></i>
          </div>
          <h4 class="text-2xl font-bold text-gray-900 mb-4">Connect with the World</h4>
          <p class="text-gray-600 leading-relaxed">Build global connections and cultural awareness through international exchange programs.</p>
        </div>

        <!-- General Support -->
        <div class="bg-gradient-to-br from-red-50 to-pink-50 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 cursor-pointer group" id="general-support-card" oncontextmenu="event.preventDefault()">
          <div class="bg-green-500 text-white text-sm font-semibold px-3 py-1 rounded-full inline-block mb-4">Special Access</div>
          <div class="w-20 h-20 bg-gradient-to-br from-red-500 to-pink-600 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
            <i class="fas fa-hands-helping text-3xl text-white"></i>
          </div>
          <h4 class="text-2xl font-bold text-gray-900 mb-4">General Support</h4>
          <p class="text-gray-600 leading-relaxed">Long press or right-click for special access</p>
        </div>

        <!-- Career Guidance -->
        <div class="bg-gradient-to-br from-indigo-50 to-blue-50 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 cursor-pointer group opacity-75" onclick="handleComingSoon()">
          <div class="bg-gray-400 text-white text-sm font-semibold px-3 py-1 rounded-full inline-block mb-4">Coming Soon</div>
          <div class="w-20 h-20 bg-gradient-to-br from-indigo-500 to-blue-600 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
            <i class="fas fa-briefcase text-3xl text-white"></i>
          </div>
          <h4 class="text-2xl font-bold text-gray-900 mb-4">Career Guidance</h4>
          <p class="text-gray-600 leading-relaxed">Explore career paths, internships, and professional development opportunities.</p>
        </div>

        <!-- Driving Help -->
        <div class="bg-gradient-to-br from-gray-50 to-slate-50 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 cursor-pointer group opacity-75" onclick="handleComingSoon()">
          <div class="bg-gray-400 text-white text-sm font-semibold px-3 py-1 rounded-full inline-block mb-4">Coming Soon</div>
          <div class="w-20 h-20 bg-gradient-to-br from-gray-500 to-slate-600 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
            <i class="fas fa-car text-3xl text-white"></i>
          </div>
          <h4 class="text-2xl font-bold text-gray-900 mb-4">Driving Help</h4>
          <p class="text-gray-600 leading-relaxed">Learn safe driving practices, get driving tips, and prepare for your driver's license.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="py-20 bg-gradient-to-br from-gray-50 to-gray-100">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
        <div>
          <h3 class="text-4xl md:text-5xl font-bold text-gray-900 mb-8">Our Mission</h3>
          <p class="text-xl text-gray-600 mb-8 leading-relaxed">Spartan Hub is a student-led initiative at Bixby High School, created to empower our community with resources, support, and opportunities for growth. We're passionate about building a supportive environment where every student can thrive.</p>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="bg-white p-6 rounded-xl shadow-lg">
              <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mb-4">
                <i class="fas fa-users text-white"></i>
              </div>
              <h4 class="text-lg font-semibold text-gray-900 mb-2">Student-Led</h4>
              <p class="text-gray-600">All services are managed and provided by students for students.</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-lg">
              <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mb-4">
                <i class="fas fa-heart text-white"></i>
              </div>
              <h4 class="text-lg font-semibold text-gray-900 mb-2">Community Focused</h4>
              <p class="text-gray-600">Supporting local causes and promoting school spirit.</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-lg">
              <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mb-4">
                <i class="fas fa-graduation-cap text-white"></i>
              </div>
              <h4 class="text-lg font-semibold text-gray-900 mb-2">Academic Excellence</h4>
              <p class="text-gray-600">Committed to helping every student succeed academically.</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-lg">
              <div class="w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center mb-4">
                <i class="fas fa-handshake text-white"></i>
              </div>
              <h4 class="text-lg font-semibold text-gray-900 mb-2">Peer Support</h4>
              <p class="text-gray-600">Learning from and supporting each other in our community.</p>
            </div>
          </div>
        </div>
        <div class="relative">
          <img src="bixby-academic-mentors-logo.png" alt="Bixby Academic Mentors" class="w-full max-w-md mx-auto rounded-2xl shadow-xl">
          <div class="absolute -bottom-6 -left-6 bg-white p-6 rounded-xl shadow-lg">
            <div class="flex items-center">
              <i class="fas fa-school text-2xl text-blue-600 mr-3"></i>
              <div>
                <div class="font-semibold text-gray-900">Bixby High School</div>
                <div class="text-gray-600">National Honor Society</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-20 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600">
    <div class="max-w-4xl mx-auto text-center px-4">
      <h3 class="text-4xl md:text-5xl font-bold text-white mb-8">Ready to Get Started?</h3>
      <p class="text-xl text-blue-100 mb-12">Join thousands of students who have found support, guidance, and success through Spartan Hub.</p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="#about" class="bg-white text-blue-600 font-semibold py-4 px-8 rounded-lg hover:bg-gray-100 transition-colors duration-300">Learn More</a>
        <a href="BAM index.html" class="border-2 border-white text-white font-semibold py-4 px-8 rounded-lg hover:bg-white hover:text-blue-600 transition-all duration-300">Explore Academic Help</a>
      </div>
    </div>
  </section>

    <!-- Footer -->
  <footer id="contact" class="bg-gray-900 text-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
        <div>
          <div class="flex items-center mb-6">
            <img src="bixby-academic-mentors-logo.png" alt="Logo" class="w-12 h-12 rounded-full border-2 border-white/30 mr-4">
            <span class="text-2xl font-bold">Spartan Hub</span>
          </div>
          <p class="text-gray-400 mb-6">Empowering students through community, support, and academic excellence at Bixby High School.</p>
          <div class="flex space-x-4">
            <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200"><i class="fab fa-instagram text-xl"></i></a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200"><i class="fab fa-facebook text-xl"></i></a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200"><i class="fab fa-twitter text-xl"></i></a>
          </div>
        </div>

        <div>
          <h4 class="text-lg font-semibold mb-6">Quick Links</h4>
          <ul class="space-y-3">
            <li><a href="BAM index.html" class="text-gray-400 hover:text-white transition-colors duration-200">Academic Tutoring</a></li>
            <li><a href="college index.html" class="text-gray-400 hover:text-white transition-colors duration-200">College Search</a></li>
            <li><a href="spartan-armory.html" class="text-gray-400 hover:text-white transition-colors duration-200">Spirit Store</a></li>
            <li><a href="Privacy Policy.html" class="text-gray-400 hover:text-white transition-colors duration-200">Privacy Policy</a></li>
          </ul>
        </div>

        <div>
          <h4 class="text-lg font-semibold mb-6">Connect With Us</h4>
          <ul class="space-y-3">
            <li><a href="https://chat.mycpuinfo.com/" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition-colors duration-200">üí¨ Chat with us at chat.mycpuinfo.com</a></li>
            <li><a href="mailto:quantumtutors314@gmail.com" class="text-gray-400 hover:text-white transition-colors duration-200">üìß Email Support</a></li>
            <li><a href="https://groupme.com/join_group/108067647/nuF2SDh3" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition-colors duration-200">üì± GroupMe Chat</a></li>
          </ul>
        </div>
      </div>

      <div class="border-t border-gray-800 pt-8 text-center">
        <p class="text-gray-400">&copy; 2025 Spartan Hub. Created by students for students. All rights reserved.</p>
        <p class="text-gray-400 mt-2">Affiliated with the National Honor Society at Bixby High School.</p>
        
        <!-- Chat Link Section -->
        <div style="margin-top: 20px; padding: 15px; background: #f8fafc; border-radius: 8px; border: 1px solid #e5e7eb; text-align: center;">
          <p style="margin: 0; color: #1e40af; font-weight: 600; font-size: 1.1em;">
            üí¨ Need to chat? Visit us at <a href="https://chat.mycpuinfo.com/" target="_blank" rel="noopener noreferrer" style="color: #d97706; text-decoration: underline;">chat.mycpuinfo.com</a>
          </p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Universal Navigation Arrows -->
  <div class="nav-arrows">
    <button id="prevArrow" class="nav-arrow" disabled>&larr;</button>
    <button id="nextArrow" class="nav-arrow">&rarr;</button>
  </div>

  <!-- Privacy Policy Bar -->
  <div class="fixed bottom-0 left-0 right-0 bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-center py-3 px-4 z-40 shadow-lg">
    <span class="text-sm">
      Read our <a href="Privacy Policy.html" target="_blank" rel="noopener" class="underline hover:text-yellow-300 transition-colors duration-200">Privacy Policy</a> ‚Ä¢ Built with ‚ù§Ô∏è by Bixby students
    </span>
  </div>

  <script>


    // Smooth scroll function
    function smoothScroll(target) {
      const element = document.querySelector(target);
      if (element) {
        element.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    }

    // Floating Navigation Sphere Toggle
    function toggleSphereNav() {
      const orbService = document.querySelector('.orbit-services');
      const orbAbout = document.querySelector('.orbit-about');
      const orbContact = document.querySelector('.orbit-contact');

      if (window.innerWidth >= 768) { // Desktop
        if (orbService.classList.contains('opacity-0')) {
          // Show orbits
          orbService.classList.remove('opacity-0', 'scale-0');
          orbAbout.classList.remove('opacity-0', 'scale-0');
          orbContact.classList.remove('opacity-0', 'scale-0');
        } else {
          // Hide orbits
          orbService.classList.add('opacity-0', 'scale-0');
          orbAbout.classList.add('opacity-0', 'scale-0');
          orbContact.classList.add('opacity-0', 'scale-0');
        }
      } else { // Mobile
        toggleMobileNav();
      }
    }

    // Navigate to section
    function navigateTo(section) {
      smoothScroll(section);
      // Hide orbits on desktop
      if (window.innerWidth >= 768) {
        toggleSphereNav();
      } else {
        closeMobileNav();
      }
    }

    // Mobile Navigation Menu Toggle
    function toggleMobileNav() {
      const menu = document.getElementById('mobile-nav-menu');
      if (menu.classList.contains('translate-x-full')) {
        menu.classList.remove('translate-x-full');
        menu.classList.add('translate-x-0');
      } else {
        menu.classList.add('translate-x-full');
        menu.classList.remove('translate-x-0');
      }
    }

    // Close Mobile Nav
    function closeMobileNav() {
      const menu = document.getElementById('mobile-nav-menu');
      menu.classList.add('translate-x-full');
      menu.classList.remove('translate-x-0');
    }

    // Easter Egg Function
    function triggerEasterEgg(event, logoElement) {
      event.stopPropagation(); // Prevent sphere toggle
      if (logoElement.classList.contains('clicked')) return;

      logoElement.classList.add('clicked');
      createParticleExplosion(logoElement);
      console.log('üéâ SPARTAN EASTER EGG ACTIVATED! ‚úàÔ∏è üåç üéâ');

      setTimeout(() => {
        logoElement.classList.remove('clicked');
      }, 2000);
    }

    // Particle explosion for easter egg
    function createParticleExplosion(element) {
      const rect = element.getBoundingClientRect();
      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;

      for (let i = 0; i < 20; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';

        const angle = (Math.PI * 2 * i) / 20;
        const distance = 100 + Math.random() * 100;
        const dx = Math.cos(angle) * distance;
        const dy = Math.sin(angle) * distance;

        particle.style.setProperty('--dx', dx + 'px');
        particle.style.setProperty('--dy', dy + 'px');
        particle.style.left = centerX + 'px';
        particle.style.top = centerY + 'px';

        const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#ffeaa7', '#dda0dd', '#98d8c8'];
        const randomColor = colors[Math.floor(Math.random() * colors.length)];
        particle.style.background = `radial-gradient(circle, ${randomColor}, ${randomColor}aa)`;

        document.body.appendChild(particle);
        setTimeout(() => { if (particle.parentNode) particle.parentNode.removeChild(particle); }, 1000);
      }
    }

    // Universal Navigation Arrows
    const pages = ['index.html', 'teenhelp index.html', 'spartan-armory.html'];
    const currentPath = window.location.pathname.split('/').pop();
    const currentIndex = pages.indexOf(currentPath);

    const prevArrow = document.getElementById('prevArrow');
    const nextArrow = document.getElementById('nextArrow');

    if (currentIndex > 0) {
      prevArrow.disabled = false;
      prevArrow.addEventListener('click', () => window.location.href = pages[currentIndex - 1]);
    }

    if (currentIndex < pages.length - 1) {
      nextArrow.disabled = false;
      nextArrow.addEventListener('click', () => window.location.href = pages[currentIndex + 1]);
    } else {
      nextArrow.disabled = true;
    }

    // NEW SIMPLIFIED LONG-PRESS MECHANISM
    let longPressTimer;
    let isLongPress = false;

    function setupLongPressTrigger() {
      const connectWorldCard = document.getElementById('connect-world-card');
      const generalSupportCard = document.getElementById('general-support-card');

      console.log('Setting up long-press triggers...');
      console.log('Connect World Card:', connectWorldCard);
      console.log('General Support Card:', generalSupportCard);

      // Connect with the World card - SIMPLE IMPLEMENTATION
      if (connectWorldCard) {
        console.log('Connect World Card found, adding events...');
        
        // Mouse down - start timer
        connectWorldCard.addEventListener('mousedown', (e) => {
          console.log('Connect World: Mouse down detected');
          isLongPress = false;
          longPressTimer = setTimeout(() => {
            console.log('Connect World: Long press detected!');
            isLongPress = true;
            showConnectPasswordPrompt();
          }, 500);
        });

        // Mouse up - clear timer
        connectWorldCard.addEventListener('mouseup', (e) => {
          console.log('Connect World: Mouse up detected');
          clearTimeout(longPressTimer);
          if (!isLongPress) {
            console.log('Connect World: Short press, showing hint');
            showLongPressHint();
          }
        });

        // Right-click
        connectWorldCard.addEventListener('contextmenu', (e) => {
          console.log('Connect World: Right-click detected');
          e.preventDefault();
          showConnectPasswordPrompt();
        });
      }

      // General Support card - SIMPLE IMPLEMENTATION
      if (generalSupportCard) {
        console.log('General Support Card found, adding events...');
        
        // Mouse down - start timer
        generalSupportCard.addEventListener('mousedown', (e) => {
          console.log('General Support: Mouse down detected');
          isLongPress = false;
          longPressTimer = setTimeout(() => {
            console.log('General Support: Long press detected!');
            isLongPress = true;
            showPasswordPrompt();
          }, 500);
        });

        // Mouse up - clear timer
        generalSupportCard.addEventListener('mouseup', (e) => {
          console.log('General Support: Mouse up detected');
          clearTimeout(longPressTimer);
          if (!isLongPress) {
            console.log('General Support: Short press, showing hint');
            showLongPressHint();
          }
        });

        // Right-click
        generalSupportCard.addEventListener('contextmenu', (e) => {
          console.log('General Support: Right-click detected');
          e.preventDefault();
          showPasswordPrompt();
        });
      }

      // Initialize on page load
      console.log('Long-press setup complete!');
    }

    function showLongPressHint() {
      // Create a temporary hint message
      const hint = document.createElement('div');
      hint.textContent = 'Long press or right-click for special access';
      hint.style.position = 'fixed';
      hint.style.bottom = '20px';
      hint.style.right = '20px';
      hint.style.background = '#ff4d4d';
      hint.style.color = 'white';
      hint.style.padding = '10px 15px';
      hint.style.borderRadius = '8px';
      hint.style.boxShadow = '0 4px 12px rgba(0,0,0,0.3)';
      hint.style.zIndex = '9999';
      hint.style.fontSize = '14px';
      hint.style.fontWeight = '500';

      document.body.appendChild(hint);

      setTimeout(() => {
        if (hint.parentNode) {
          hint.parentNode.removeChild(hint);
        }
      }, 2000);
    }

    // Password prompt specifically for the Connect card which opens the provided link inside the site
    function showConnectPasswordPrompt() {
      // Create password overlay
      const overlay = document.createElement('div');
      overlay.className = 'popup-overlay';
      overlay.id = 'connect-password-overlay';

      overlay.innerHTML = `
        <div class="popup-container" style="height: 50%; max-height: 400px;">
          <div class="popup-header">
            <div class="popup-title">Access Verification Required</div>
            <button class="popup-close" id="connect-password-close-btn" aria-label="Close">√ó</button>
          </div>
          <div style="padding: 40px 30px; text-align: center;">
            <div style="margin-bottom: 30px;">
              <i class="fas fa-lock" style="font-size: 48px; color: #ff4d4d; margin-bottom: 20px; display: block;"></i>
              <h3 style="font-size: 24px; color: #333; margin-bottom: 10px;">Security Check</h3>
              <p style="color: #666; font-size: 16px;">Please enter the access code to continue</p>
            </div>
            <div style="margin-bottom: 30px;">
              <input type="password" id="connect-password-input" placeholder="Enter passcode" style="width: 100%; max-width: 300px; padding: 15px; font-size: 18px; border: 2px solid #ddd; border-radius: 8px; outline: none;">
            </div>
            <div style="display: flex; gap: 15px; justify-content: center;">
              <button id="connect-password-submit-btn" style="background: #ff4d4d; color: white; border: none; padding: 12px 30px; font-size: 16px; border-radius: 6px; cursor: pointer; font-weight: bold; transition: all 0.3s;">Submit</button>
              <button id="connect-password-cancel-btn" style="background: #f5f5f5; color: #333; border: none; padding: 12px 30px; font-size: 16px; border-radius: 6px; cursor: pointer; font-weight: bold; transition: all 0.3s;">Cancel</button>
            </div>
            <div id="connect-password-error" style="color: #ff4d4d; font-size: 14px; margin-top: 20px; min-height: 20px;"></div>
          </div>
        </div>
      `;

      document.body.appendChild(overlay);
      overlay.style.display = 'flex';

      const passwordInput = document.getElementById('connect-password-input');
      const submitBtn = document.getElementById('connect-password-submit-btn');
      const cancelBtn = document.getElementById('connect-password-cancel-btn');
      const closeBtn = document.getElementById('connect-password-close-btn');
      const errorDiv = document.getElementById('connect-password-error');

      // Focus on input
      setTimeout(() => passwordInput.focus(), 100);

      // Handle submit
      submitBtn.addEventListener('click', () => {
        const password = passwordInput.value.trim();
        if (password === 'Chat123$') {
          overlay.remove();
          openInternalLinkOverlay('https://chat.mycpuinfo.com/');
        } else if (password === 'wjeren') {
          overlay.remove();
          openInternalLinkOverlay('https://herald-projection-phase-ultram.trycloudflare.com/auth?redirect=%2F');
        } else {
          errorDiv.textContent = 'Invalid passcode. Please try again.';
          passwordInput.value = '';
          passwordInput.focus();
        }
      });

      // Handle cancel
      cancelBtn.addEventListener('click', () => {
        overlay.remove();
      });

      // Handle close button
      closeBtn.addEventListener('click', () => {
        overlay.remove();
      });

      // Handle overlay click
      overlay.addEventListener('click', (e) => {
        if (e.target === overlay) {
          overlay.remove();
        }
      });

      // Handle Enter key
      passwordInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          submitBtn.click();
        }
      });

      // Handle Escape key
      document.addEventListener('keydown', function handleConnectEscapeKey(event) {
        if (event.key === 'Escape') {
          const ov = document.getElementById('connect-password-overlay');
          if (ov) ov.remove();
          document.removeEventListener('keydown', handleConnectEscapeKey);
        }
      });
    }

    function openInternalLinkOverlay(url) {
      const overlay = document.createElement('div');
      overlay.className = 'popup-overlay';
      overlay.id = 'connect-iframe-overlay';

      overlay.innerHTML = `
        <div class="popup-container">
          <div class="popup-header">
            <div class="popup-title">External Content</div>
            <button class="popup-close" id="connect-iframe-close-btn" aria-label="Close">√ó</button>
          </div>
          <iframe class="popup-iframe" id="connect-iframe" src="${url}" title="Connect Content"></iframe>
        </div>
      `;

      document.body.appendChild(overlay);
      overlay.style.display = 'flex';

      document.getElementById('connect-iframe-close-btn').addEventListener('click', () => {
        const ov = document.getElementById('connect-iframe-overlay');
        if (ov) ov.remove();
      });

      overlay.addEventListener('click', (e) => {
        if (e.target === overlay) {
          const ov = document.getElementById('connect-iframe-overlay');
          if (ov) ov.remove();
        }
      });

      document.addEventListener('keydown', function handleConnectIframeEscape(event) {
        if (event.key === 'Escape') {
          const ov = document.getElementById('connect-iframe-overlay');
          if (ov) ov.remove();
          document.removeEventListener('keydown', handleConnectIframeEscape);
        }
      });
    }

    // Password Verification System
    function showPasswordPrompt() {
      // Create password overlay
      const overlay = document.createElement('div');
      overlay.className = 'popup-overlay';
      overlay.id = 'password-overlay';

      overlay.innerHTML = `
        <div class="popup-container" style="height: 50%; max-height: 400px;">
          <div class="popup-header">
            <div class="popup-title">Access Verification Required</div>
            <button class="popup-close" id="password-close-btn" aria-label="Close">√ó</button>
          </div>
          <div style="padding: 40px 30px; text-align: center;">
            <div style="margin-bottom: 30px;">
              <i class="fas fa-lock" style="font-size: 48px; color: #ff4d4d; margin-bottom: 20px; display: block;"></i>
              <h3 style="font-size: 24px; color: #333; margin-bottom: 10px;">Security Check</h3>
              <p style="color: #666; font-size: 16px;">Please enter the access code to continue</p>
            </div>
            <div style="margin-bottom: 30px;">
              <input type="password" id="password-input" placeholder="Enter passcode" style="width: 100%; max-width: 300px; padding: 15px; font-size: 18px; border: 2px solid #ddd; border-radius: 8px; outline: none;">
            </div>
            <div style="display: flex; gap: 15px; justify-content: center;">
              <button id="password-submit-btn" style="background: #ff4d4d; color: white; border: none; padding: 12px 30px; font-size: 16px; border-radius: 6px; cursor: pointer; font-weight: bold; transition: all 0.3s;">Submit</button>
              <button id="password-cancel-btn" style="background: #f5f5f5; color: #333; border: none; padding: 12px 30px; font-size: 16px; border-radius: 6px; cursor: pointer; font-weight: bold; transition: all 0.3s;">Cancel</button>
            </div>
            <div id="password-error" style="color: #ff4d4d; font-size: 14px; margin-top: 20px; min-height: 20px;"></div>
          </div>
        </div>
      `;

      document.body.appendChild(overlay);
      overlay.style.display = 'flex';

      const passwordInput = document.getElementById('password-input');
      const submitBtn = document.getElementById('password-submit-btn');
      const cancelBtn = document.getElementById('password-cancel-btn');
      const closeBtn = document.getElementById('password-close-btn');
      const errorDiv = document.getElementById('password-error');

      // Focus on input
      setTimeout(() => passwordInput.focus(), 100);

      // Handle submit
      submitBtn.addEventListener('click', () => {
        const password = passwordInput.value.trim();
        if (password === 'NeverStop') {
          overlay.remove();
          showTwoOptionButtons();
        } else {
          errorDiv.textContent = 'Invalid passcode. Please try again.';
          passwordInput.value = '';
          passwordInput.focus();
        }
      });

      // Handle cancel
      cancelBtn.addEventListener('click', () => {
        overlay.remove();
      });

      // Handle close button
      closeBtn.addEventListener('click', () => {
        overlay.remove();
      });

      // Handle overlay click
      overlay.addEventListener('click', (e) => {
        if (e.target === overlay) {
          overlay.remove();
        }
      });

      // Handle Enter key
      passwordInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          submitBtn.click();
        }
      });

      // Handle Escape key
      document.addEventListener('keydown', handlePasswordEscapeKey);
    }

    function handlePasswordEscapeKey(event) {
      if (event.key === 'Escape') {
        const overlay = document.getElementById('password-overlay');
        if (overlay) {
          overlay.remove();
        }
        document.removeEventListener('keydown', handlePasswordEscapeKey);
      }
    }

    // Popup System
    function openGoogleMeetWithAppFallback() {
      // Check if device is mobile
      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      
      if (isMobile) {
        // Try to open the native app first with a timeout fallback
        const meetUrl = 'https://meet.google.com/igp-uyev-ckc';
        const deepLinkAndroid = 'intent://meet.google.com/igp-uyev-ckc#Intent;scheme=https;package=com.google.android.apps.meetings;end';
        const deepLinkIOS = 'googlemeet://meet.google.com/igp-uyev-ckc';
        
        if (/Android/.test(navigator.userAgent)) {
          // Try Android app
          window.location.href = deepLinkAndroid;
          // Fallback to web if app doesn't open after 1 second
          setTimeout(() => {
            window.open(meetUrl, '_blank');
          }, 1000);
        } else if (/iPhone|iPad|iPod/.test(navigator.userAgent)) {
          // Try iOS app
          window.location.href = deepLinkIOS;
          // Fallback to web if app doesn't open after 1 second
          setTimeout(() => {
            window.open(meetUrl, '_blank');
          }, 1000);
        } else {
          // Other mobile devices
          window.open(meetUrl, '_blank');
        }
      } else {
        // Desktop - just open in browser
        window.open('https://meet.google.com/igp-uyev-ckc', '_blank');
      }
    }

    function openRumbleTalkPopup() {
      // Create popup overlay
      const overlay = document.createElement('div');
      overlay.className = 'popup-overlay';
      overlay.id = 'rumbletalk-popup';

      overlay.innerHTML = `
        <div class="popup-container">
          <div class="popup-header">
            <div class="popup-title">Chat with Us</div>
            <button class="popup-close" id="popup-close-btn" aria-label="Close">√ó</button>
          </div>
          <iframe class="popup-iframe" id="rumbletalk-iframe" src="https://rumbletalk.com/client/chat.php?3UZusxyG" title="RumbleTalk Chat"></iframe>
        </div>
      `;

      document.body.appendChild(overlay);
      overlay.style.display = 'flex';

      // Close button functionality
      document.getElementById('popup-close-btn').addEventListener('click', () => {
        closeRumbleTalkPopup();
      });

      // Close on overlay click
      overlay.addEventListener('click', (e) => {
        if (e.target === overlay) {
          closeRumbleTalkPopup();
        }
      });

      // Close on Escape key
      document.addEventListener('keydown', handleEscapeKey);
    }
    function showTwoOptionButtons() {
      // Create overlay with 2 square buttons
      const overlay = document.createElement('div');
      overlay.className = 'popup-overlay';
      overlay.id = 'options-overlay';

      overlay.innerHTML = `
        <div class="popup-container" style="height: auto; max-height: none; padding: 40px;">
          <div class="popup-header">
            <div class="popup-title">Select an Option</div>
            <button class="popup-close" id="options-close-btn" aria-label="Close">√ó</button>
          </div>
          <div style="padding: 40px 30px; text-align: center;">
            <div style="display: flex; gap: 30px; justify-content: center; flex-wrap: wrap; margin-top: 30px;">
              <button id="option-express" style="width: 200px; height: 200px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 18px; display: flex; align-items: center; justify-content: center; text-align: center; padding: 20px; transition: transform 0.3s, box-shadow 0.3s; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);">Express</button>
              <button id="option-igloos" style="width: 200px; height: 200px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 16px; display: flex; align-items: center; justify-content: center; text-align: center; padding: 20px; transition: transform 0.3s, box-shadow 0.3s; box-shadow: 0 4px 15px rgba(245, 87, 108, 0.4);">Igloos Built by Polar Bears are Great and Powerful.</button>
            </div>
          </div>
        </div>
      `;

      document.body.appendChild(overlay);
      overlay.style.display = 'flex';

      const expressBtn = document.getElementById('option-express');
      const igloosBtn = document.getElementById('option-igloos');
      const closeBtn = document.getElementById('options-close-btn');

      // Add hover effects
      expressBtn.addEventListener('mouseover', () => {
        expressBtn.style.transform = 'translateY(-5px)';
        expressBtn.style.boxShadow = '0 6px 20px rgba(102, 126, 234, 0.6)';
      });
      expressBtn.addEventListener('mouseout', () => {
        expressBtn.style.transform = 'translateY(0)';
        expressBtn.style.boxShadow = '0 4px 15px rgba(102, 126, 234, 0.4)';
      });

      igloosBtn.addEventListener('mouseover', () => {
        igloosBtn.style.transform = 'translateY(-5px)';
        igloosBtn.style.boxShadow = '0 6px 20px rgba(245, 87, 108, 0.6)';
      });
      igloosBtn.addEventListener('mouseout', () => {
        igloosBtn.style.transform = 'translateY(0)';
        igloosBtn.style.boxShadow = '0 4px 15px rgba(245, 87, 108, 0.4)';
      });

      // Express button - open RumbleTalk chat
      expressBtn.addEventListener('click', () => {
        overlay.remove();
        openRumbleTalkPopup();
      });

      // Igloos button - open Google Meet
      igloosBtn.addEventListener('click', () => {
        overlay.remove();
        openGoogleMeetWithAppFallback();
      });

      // Close button
      closeBtn.addEventListener('click', () => {
        overlay.remove();
      });

      // Close on overlay click
      overlay.addEventListener('click', (e) => {
        if (e.target === overlay) {
          overlay.remove();
        }
      });
    }

    function showSecondPasswordPrompt() {
      // Create password overlay for second check
      const overlay = document.createElement('div');
      overlay.className = 'popup-overlay';
      overlay.id = 'password-overlay-2';

      overlay.innerHTML = `
        <div class="popup-container" style="height: 50%; max-height: 400px;">
          <div class="popup-header">
            <div class="popup-title">Access Verification Required</div>
            <button class="popup-close" id="password-close-btn-2" aria-label="Close">√ó</button>
          </div>
          <div style="padding: 40px 30px; text-align: center;">
            <div style="margin-bottom: 30px;">
              <i class="fas fa-lock" style="font-size: 48px; color: #ff4d4d; margin-bottom: 20px; display: block;"></i>
              <h3 style="font-size: 24px; color: #333; margin-bottom: 10px;">Security Check</h3>
              <p style="color: #666; font-size: 16px;">Please enter the access code to continue</p>
            </div>
            <div style="margin-bottom: 30px;">
              <input type="password" id="password-input-2" placeholder="Enter passcode" style="width: 100%; max-width: 300px; padding: 15px; font-size: 18px; border: 2px solid #ddd; border-radius: 8px; outline: none;">
            </div>
            <div style="display: flex; gap: 15px; justify-content: center;">
              <button id="password-submit-btn-2" style="background: #ff4d4d; color: white; border: none; padding: 12px 30px; font-size: 16px; border-radius: 6px; cursor: pointer; font-weight: bold; transition: all 0.3s;">Submit</button>
              <button id="password-cancel-btn-2" style="background: #f5f5f5; color: #333; border: none; padding: 12px 30px; font-size: 16px; border-radius: 6px; cursor: pointer; font-weight: bold; transition: all 0.3s;">Cancel</button>
            </div>
            <div id="password-error-2" style="color: #ff4d4d; font-size: 14px; margin-top: 20px; min-height: 20px;"></div>
          </div>
        </div>
      `;

      document.body.appendChild(overlay);
      overlay.style.display = 'flex';

      const passwordInput = document.getElementById('password-input-2');
      const submitBtn = document.getElementById('password-submit-btn-2');
      const cancelBtn = document.getElementById('password-cancel-btn-2');
      const closeBtn = document.getElementById('password-close-btn-2');
      const errorDiv = document.getElementById('password-error-2');

      // Focus on input
      setTimeout(() => passwordInput.focus(), 100);

      // Handle submit
      submitBtn.addEventListener('click', () => {
        const password = passwordInput.value.trim();
        if (password === 'NeverStop') {
          overlay.remove();
          openRumbleTalkPopup();
        } else {
          errorDiv.textContent = 'Invalid passcode. Please try again.';
          passwordInput.value = '';
          passwordInput.focus();
        }
      });

      // Handle cancel
      cancelBtn.addEventListener('click', () => {
        overlay.remove();
      });

      // Handle close button
      closeBtn.addEventListener('click', () => {
        overlay.remove();
      });

      // Handle overlay click
      overlay.addEventListener('click', (e) => {
        if (e.target === overlay) {
          overlay.remove();
        }
      });

      // Handle Enter key
      passwordInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          submitBtn.click();
        }
      });
    }
    function closeRumbleTalkPopup() {
      const overlay = document.getElementById('rumbletalk-popup');
      if (overlay) {
        overlay.remove();
      }

      // Remove escape key listener
      document.removeEventListener('keydown', handleEscapeKey);
    }

    function handleEscapeKey(event) {
      if (event.key === 'Escape') {
        closeRumbleTalkPopup();
      }
    }

    // Handle iPad keyboard globe button
    document.addEventListener('keydown', (event) => {
      // Check for globe key (key code 231 or specific key identifier)
      if (event.keyCode === 231 || event.key === 'GoToTab' || event.key === 'EmojiPanel') {
        event.preventDefault();
        window.location.href = 'index.html';
      }
    });

    // Handle card clicks
    function handleCardClick(url) {
      const card = event.currentTarget;
      card.style.transform = 'scale(0.95)';
      setTimeout(() => { card.style.transform = ''; }, 150);

      try {
        window.location.href = url;
      } catch (error) {
        console.error('Navigation error:', error);
      }
    }

    // Initialize long-press trigger when page loads
    document.addEventListener('DOMContentLoaded', setupLongPressTrigger);
  </script>
</body>
</html>